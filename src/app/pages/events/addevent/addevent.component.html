<div class="example-container mat-elevation-z8">
    <div class="example-loading-shade" *ngIf="isLoadingResults">
        <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>

    <mat-card class="example-card">
        <form [formGroup]="addEventForm" (ngSubmit)="onFormSubmit(addEventForm.value)">

            <div class="p-1">
                <mat-card>
                    <mat-card-header fxLayoutAlign="center">
                        <mat-card-subtitle>
                            <h2>Votre Voiture</h2>
                        </mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content fxLayout="column" fxLayoutAlign="center">
                        <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                            <mat-select placeholder="Votre Voiture" formControlName="vehiculeId">
                                <mat-option *ngFor="let vheicule of voitures" [value]="vheicule._id">
                                    {{vheicule.immatriculation}}
                                </mat-option>
                            </mat-select>
                            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            <mat-error>
                                <span
                                    *ngIf="!addEventForm.get('vehiculeId').valid && addEventForm.get('vehiculeId').touched">Please
                                    select a
                                    vheicule</span>
                            </mat-error>
                        </mat-form-field>

                    </mat-card-content>
                </mat-card>
            </div>
            <div class="p-2">
                <mat-card>
                    <mat-card-header fxLayoutAlign="center">
                        <mat-card-subtitle>
                            <h2>Observation</h2>
                        </mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content fxLayout="column" fxLayoutAlign="center">
                        <mat-form-field>
                            <textarea matInput formControlName="observation" required placeholder="Autosize textarea"
                                matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5"></textarea>
                            <mat-error>travailDemande est obligatoire!</mat-error>
                        </mat-form-field>

                    </mat-card-content>
                </mat-card>
            </div>

            <div class="p-2">
                <mat-card>
                    <mat-card-header fxLayoutAlign="center">
                        <mat-card-subtitle>
                            <h2>Traveaux demand√©s</h2>
                        </mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content fxLayout="column" fxLayoutAlign="center">
                        <mat-form-field>
                            <textarea matInput formControlName="travailDemande" required placeholder="Autosize textarea"
                                matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5"></textarea>
                            <mat-error>travailDemande est obligatoire!</mat-error>
                        </mat-form-field>

                    </mat-card-content>
                </mat-card>
            </div>
            <div class="p-2">
                <mat-card>
                    <mat-card-header fxLayoutAlign="center">
                        <mat-card-subtitle>
                            <h2> start date</h2>
                        </mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content fxLayoutAlign="center">
                        <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                            <mat-label>Start</mat-label>

                            <input matInput [min]="minDate" [matDatepicker]="picker" placeholder="Date"
                                formControlName="start">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>

                            <mat-error>StartDate est obligatoire!</mat-error>
                        </mat-form-field>
                    </mat-card-content>
                </mat-card>
            </div>


            <div class="button-row">
                <button type="submit" [disabled]="!addEventForm.valid" mat-flat-button color="primary">
                    <mat-icon>save</mat-icon>
                </button>
            </div>
        </form>
    </mat-card>
</div>